
<!DOCTYPE html>
<html lang="en ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eric的博客 || My personal blog</title>
    <meta name="referrer" content="no-referrer" />
    <meta name="author" content="Eric Du">
    <meta name="description" content="记录、分享、交流 ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/head_image.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/full-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Eric的博客" type="application/atom+xml">
</head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Eric的博客</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="idcard" theme="filled" />
            </span>
            <span>about</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/like/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/like/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
        <a target="_blank" rel="noopener" href="https://en.korilin.com">
            <span>
                <a-icon type="compass" theme="filled" />
            </span>
            <span>英文博客</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>Eric的博客</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="idcard" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/like/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/like/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
            <a target="_blank" rel="noopener" href="https://en.korilin.com">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="compass" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">英文博客</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                    <div id="home-head" style=background-image:url('home.jpg')>
    <script>
        var menu = document.getElementById("menu")
        menu.className += " menu-color"
    </script>
     
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>Eric的博客</h1>
                <h3>My personal blog</h3>
                <h5>记录、分享、交流</h5>
            </div>
        </span>
    </div>
     
</div>



<div id="home-posts-wrap" class=>
    <div id="home-posts">

        <div id="posts">
            

<div class="post">

    <a href="/2017/09/30/Git/随笔/">
        <h2>
            随笔
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/notes">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                notes
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2017/9/30
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <blockquote>
<p>The biggest thing that makes Google’s code so good is simple:code review.</p>
</blockquote>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/随笔" style=color:#00bcd4>
                随笔
            </a>
        </span>
        
    </div>

    <a href="/2017/09/30/Git/随笔/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2017/08/31/Git/Git分支操作/">
        <h2>
            Git分支操作
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Git">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Git
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2017/8/31
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h3 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h3><p>首先，我们创建dev分支，然后切换到dev分支：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git checkout -b dev
Switched to a new branch &#39;dev&#39;
</code></pre>
<p>需要注意的是，上述这种方式创建的分支是从当前分支迁出一个新的本地分支，提交之后推送的话会提示需要设置远程分支</p>
<pre><code>D:\workspace\WebWorkspace\Lover (test -&gt; origin)
λ git push
fatal: The current branch test has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin test
</code></pre>
<p>此时按照上面提示的添加–set-upstream origin <code>分支名</code>就可以了。<br>如果想从远程直接迁出分支到本地的话，可以使用如下命令<code>git checkout -b 本地分支名 远程分支名(可通过git branch-a查看)</code></p>
<pre><code>[root@VM_94_149_centos Lover]# git checkout -b branch_du remotes/origin/branch_du
Branch branch_du set up to track remote branch branch_du from origin.
Switched to a new branch &#39;branch_du&#39;
</code></pre>
<p><code>git checkout</code>命令加上<code>-b</code>参数表示创建并切换，相当于以下两条命令：</p>
<p><code>git branch dev</code><br><code>git checkout dev</code></p>
<h3 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h3><p><code>git barnch</code>命令是查看分支状态，如下面的调用，显示的是所有的分支，以及当前所在的分支是 dev</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git branch
* dev
  master
</code></pre>
<p>想要查看远程分支的话，用<code>git branch -a</code></p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git branch -a
* dev
  master
  remotes/origin/dev
  remotes/origin/master
</code></pre>
<h3 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h3><p>dev分支上做的改动，在切换回master之后是看不到的，因为这是在这个分支上进行的改动。那么当我们切换回master后如何把分支上的代码合并过来呢，就是通过调用<code>git merge dev</code>这个命令了。</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git merge dev
Updating eb19384..079e10c
Fast-forward
 &quot;Git/Git分支.md&quot; | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)
</code></pre>
<p>合并了之后，再调用<code>git checkout master</code>切换回master后，就能在主干上看到所有改动了。</p>
<h3 id="git-branch-d"><a href="#git-branch-d" class="headerlink" title="git branch -d ***"></a>git branch -d ***</h3><p>分支合并了之后就会要删除不用的分支，这就是删除分支的指令了。</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git branch -d dev
Deleted branch branch_test (was 079e10c).
PS C:\workspace\AtomSpace\MarkDowns&gt; git branch
* master
</code></pre>
<p>但是如果分支没有合并的话，直接删除会报错：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git branch -d dev
error: The branch &#39;dev&#39; is not fully merged.
If you are sure you want to delete it, run &#39;git branch -D dev&#39;.
</code></pre>
<p>根据提示也可以看出来，删除没有提交的分支的话需要调用<code>git branch -D dev</code>来强行删除。<br><strong>注意：上面说的所有的分支操作都是在本地仓库进行的，只有在<code>git push</code>之后远程仓库才会有相应变化</strong></p>
<h3 id="git-push-origin-d-lt-branch-name-gt"><a href="#git-push-origin-d-lt-branch-name-gt" class="headerlink" title="git push origin -d &lt;branch name&gt;"></a>git push origin -d &lt;branch name&gt;</h3><p>那么如何删除远程的分支呢，需要调用这个指令<code>git push origin -d &lt;branch name&gt;</code>，下面是调用示例：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git push origin -d dev
To https://github.com/ericdxf/Record.git
 - [deleted]         dev
</code></pre>
<h3 id="git-解决冲突"><a href="#git-解决冲突" class="headerlink" title="git 解决冲突"></a>git 解决冲突</h3><p>合并代码时难免会出现冲突，毕竟是多人协作搞出来的，难免出现大家修改一个文件的问题，这是会提示这个：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git merge feature1

Auto-merging Git/readme.txt
CONFLICT (content): Merge conflict in Git/readme.txt
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>此时在编辑器中能看到出现冲突的地方，在选择了留下哪部分代码解决了冲突之后，再进行<code>git add</code> <code>git commit</code>提交代码，就解决了这个冲突。</p>
<h3 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h3><p>软件开发中，bug就像家常便饭一样。有了bug就需要修复，在Git中，由于分支是如此的强大，所以，每个bug都可以通过一个新的临时分支来修复，修复后，合并分支，然后将临时分支删除。</p>
<p>当你接到一个修复一个代号101的bug的任务时，很自然地，你想创建一个分支issue-101来修复它，但是，等等，当前正在dev上进行的工作还没有提交：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git status
On branch dev
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

        modified:   &quot;readme.md&quot;

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>并不是你不想提交，而是工作只进行到一半，还没法提交，预计完成还需1天时间。但是，必须在两个小时内修复该bug，怎么办？</p>
<p>幸好，Git还提供了一个stash功能，可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git stash
Saved working directory and index state WIP on dev: 3182e2e 提交解决冲突操作
</code></pre>
<p>此时切换到发布分支上去checkout一个bug101分支，解决了bug之后，代码合并到主干上，然后把bug分支删除。此时应该切换回我们的dev开发分支上继续我们之前的开发：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git checkout dev
Switched to branch &#39;dev&#39;
PS C:\workspace\AtomSpace\MarkDowns&gt; git status
On branch dev
nothing to commit, working tree clean
</code></pre>
<p>此时你会发现，之前写的没有提交的部分都不见了，因为被<code>git stash</code>命令储藏起来了，那如何把这些代码取出来呢，有两种方式：</p>
<ul>
<li><code>git stash apply</code> + <code>git stash drop</code><br>用git stash apply恢复了代码之后，stash内容并不删除，所以要再调用一次<code>git stash drop</code>命令来删除。</li>
</ul>
<p>但有一点要注意，**<code>drop</code>命令只会删除最上面一次stash，并不是清空，应该是利用弹栈的方式，需要注意。**</p>
<ul>
<li><code>git stash pop</code><br>这个命令就是上面两个命令的叠加了，取出存储的数据之后同时删除存储库中的数据。</li>
<li><code>git stash list</code><br>这个命令可以查看当前存储的数量，如下：<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git stash list
stash@&#123;0&#125;: WIP on master: 3182e2e 提交信息1
stash@&#123;1&#125;: WIP on dev: 3182e2e 提交信息2
</code></pre>
</li>
</ul>
<h3 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h3><p>要查看远程库的信息时，用<code>git remote</code>，远程库的名称默认为<strong>origin</strong></p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git remote
origin
</code></pre>
<p><code>git remote -v</code>能查看更详细的信息，包括远程仓库的地址：</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git remote -v
origin  https://github.com/ericdxf/Record.git (fetch)
origin  https://github.com/ericdxf/Record.git (push)
</code></pre>
<p><code>git remote add origin &lt;url&gt;</code>这个是添加远程仓库的指令，那想换新的仓库怎么办呢，很简单。首先移除远程仓库：<br><code>git remote rm origin</code>之后再添加新的远程库就好了。</p>
<h3 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h3><p>命令<code>git tag &lt;name&gt;</code>用于新建一个标签，默认为HEAD，也可以指定一个commit id；<br><code>git tag -a &lt;tagname&gt; -m &quot;blablabla...</code>可以指定标签信息；<br><code>git tag -s &lt;tagname&gt; -m &quot;blablabla...</code>可以用PGP签名标签；<br>命令<code>git tag</code>可以查看所有标签。<br>命令<code>git push origin &lt;tagname&gt;</code>可以推送一个本地标签；<br>命令<code>git push origin --tags</code>可以推送全部未推送过的本地标签；<br>命令<code>git tag -d &lt;tagname&gt;</code>可以删除一个本地标签；<br>命令<code>git push origin :refs/tags/&lt;tagname&gt;</code>可以删除一个远程标签。</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Git基础" style=color:#00bcd4>
                Git基础
            </a>
        </span>
        
    </div>

    <a href="/2017/08/31/Git/Git分支操作/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2017/08/30/Git/Git代码首次提交到远程仓库/">
        <h2>
            Git代码首次提交到远程仓库
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Git">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Git
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2017/8/30
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>很多人接触Git后的第一步操作就是提交本地的代码到远程仓库，包括之前是使用SVN等其他版本控制工具的用户。我们这里就来详细介绍一下如何把本地的代码关联到远成仓库。</p>
<p>首先，要有一个远程仓库，其实按照Git的分布式原理，任何一台电脑都可以作为一个远程仓库。但在实际的使用中，往往需要这个远程仓库保持全天24小时不停地运行，不然不能保证多人协作下的实时性。但是每个项目都单独搭建这么一台仓库也是费时费力的，好在前辈们已经早已想到了这个问题，GitHub就是这样一个大型的代码仓库，全世界无数的代码都托管在上面，类似的还有GitLab、码云等。当然托管上去后，你的代码就可以被所有人查看了。可以通过付费的方式设置为私有的，这个就要量力而行了。</p>
<ol>
<li>好了，貌似有些跑偏了，现在就先在GitHub上新建一个远程仓库：</li>
</ol>
<p><img src="/assets/images/git_new_repository.png" alt="test"><br>之后填写仓库的信息：<br><img src="/assets/images/git_new_repository_1.png" alt="test"><br>仓库创建好了之后就可以把仓库的地址拷出来备用了：<br><img src="/assets/images/git_new_repository_path.png" alt="test"></p>
<ol start="2">
<li>然后就是打开你的项目所在目录，要把本地的代码提交到远程仓库有两种方法，第一种是先把远程仓库克隆到本地，再把代码拷进去，然后提交代码。但是这种方法不推荐，更推荐的方法是先在本地代码所在路径建立一个本地仓库,Git支持把远程仓库和一个已有的本地仓库关联。我们详细介绍一下这个方式：<br>首先进入项目的根目录，执行命令<code>git init</code>,生成本地仓库：<pre><code>PS E:\respositoryTest&gt; git init
Initialized empty Git repository in E:/respositoryTest/.git/
</code></pre>
</li>
<li>然后把需要提交的代码关联到本地仓库中，当然前提是要先提交正确的<code>ignore</code>文件，这个文件后期也可以修改，但是会麻烦一些，在另一篇文章中有详细的介绍。执行命令<code>git add .</code>:<pre><code>PS E:\respositoryTest&gt; git add .
</code></pre>
</li>
<li>接下来就是关联本地仓库到远程仓库，执行命令<code>git remote add origin &lt;url&gt;</code>，其中的url就是上面再GitHub中获取到的远程仓库地址：<pre><code>PS E:\respositoryTest&gt; git remote add origin https://github.com/ericdxf/test1.git
</code></pre>
</li>
<li>接下来要先把远程仓库中的代码同步一下，虽然是个空仓库，但也有一些<code>README.md</code> <code>ignore</code>文件等，不同步的话等下的提交会报错的：<br>&#96;&#96;&#96;<br>PS E:\respositoryTest&gt; git pull origin master –allow-unrelated-histories<br>remote: Counting objects: 3, done.<br>remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0<br>Unpacking objects: 100% (3&#x2F;3), done.<br>From <a target="_blank" rel="noopener" href="https://github.com/ericdxf/test1">https://github.com/ericdxf/test1</a></li>
</ol>
<ul>
<li>branch            master     -&gt; FETCH_HEAD</li>
<li>[new branch]      master     -&gt; origin&#x2F;master<br>&#96;&#96;&#96;<br>可以看到更新下来了三个文件，其实更新代码只要<code>git pull origin master</code>就好了，但是首次更新的话需要添加<code> --allow-unrelated-histories</code>后缀，不加的话会报错<code>fatal: refusing to merge unrelated histories</code>,这个问题是在Git 2.9.0之后的版本才出现的，以前的版本不加也可以正常工作，具体原因应该是为了增强安全性而加的处理吧。</li>
</ul>
<ol start="6">
<li>接下来是把代码提交到本地仓库中，调用<code>git commit -m 提交信息</code>，提交信息就是你的这次改动的内容；一定要认真填写，不然版本多了之后想再查询之前的提交信息时，就会很麻烦。<pre><code>PS E:\respositoryTest&gt; git commit -m &quot;first commit&quot;
[master 7e2adca] first commit
 1 file changed, 4 insertions(+)
 create mode 100644 try.txt
</code></pre>
</li>
<li>最后一步就是把本地仓库的代码提交到远程仓库中，<code>git push origin master</code>,<code>master</code>是分支的名字，没有分支的话，默认的就是这个名为<code>master</code>的主干了。<pre><code>PS E:\respositoryTest&gt; git push origin master
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 333 bytes | 333.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/ericdxf/test1.git
f715821..7e2adca  master -&gt; master
</code></pre>
<img src="/images/git_new_repository_success.png" alt="end"></li>
</ol>
<p>好了，到这里，代码就关联到了GitHub中。 ^_^</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Git基础" style=color:#ff7d73>
                Git基础
            </a>
        </span>
        
    </div>

    <a href="/2017/08/30/Git/Git代码首次提交到远程仓库/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2017/08/30/Git/Git忽略规则/">
        <h2>
            Git忽略规则
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Git">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Git
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2017/8/30
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>在git中如果想忽略掉某个文件，不让这个文件提交到版本库中，可以使用修改根目录中 .gitignore 文件的方法（如果没有这个文件，则需自己手工建立此文件）。这个文件每一行保存了一个匹配的规则例如：</p>
<pre><code class="代码块">#此为注释 – 将被 Git 忽略
*.sample 　　 # 忽略所有.sample 结尾的文件
!lib.sample 　# 但 lib.sample 除外
/TODO 　　    # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO
build/ 　　   # 忽略 build/ 目录下的所有文件
doc/*.txt 　　# 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt
</code></pre>
<h3 id="提交代码之后修改ignore无效解决办法"><a href="#提交代码之后修改ignore无效解决办法" class="headerlink" title="提交代码之后修改ignore无效解决办法"></a>提交代码之后修改ignore无效解决办法</h3><p>把某些目录或文件加入忽略规则，按照上述方法定义后发现并未生效，原因是.gitignore只能忽略那些原来没有被追踪的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。<font color="#17da4d">那么解决方法就是先把本地缓存删除（改变成未被追踪状态），然后再提交：</font>  </p>
<p>git rm -r –cached .<br>git add .<br>git commit -m ‘update .gitignore’  </p>
<h3 id="检查忽略地址"><a href="#检查忽略地址" class="headerlink" title="检查忽略地址"></a>检查忽略地址</h3><p>有些时候，你想添加一个文件到Git，但发现添加不了，原因是这个文件被<strong>ignore</strong>忽略了：</p>
<pre><code>$ git add App.class
The following paths are ignored by one of your .gitignore files:
App.class
Use -f if you really want to add them.
</code></pre>
<p>你发现，可能是.gitignore写得有问题，需要找出来到底哪个规则写错了，可以用<code>git check-ignore</code>命令检查：</p>
<pre><code>$ git check-ignore -v App.class
.gitignore:3:*.class    App.class
</code></pre>
<p>Git会告诉我们，<code>.gitignore</code>的第3行规则忽略了该文件，于是我们就可以知道应该修订哪个规则。</p>
<h3 id="最后附上官方的-ignore文件链接-传送门"><a href="#最后附上官方的-ignore文件链接-传送门" class="headerlink" title="最后附上官方的.ignore文件链接 传送门"></a>最后附上官方的<code>.ignore</code>文件链接 <a target="_blank" rel="noopener" href="https://github.com/github/gitignore">传送门</a></h3>
            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Git基础" style=color:#03a9f4>
                Git基础
            </a>
        </span>
        
    </div>

    <a href="/2017/08/30/Git/Git忽略规则/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2017/08/30/Git/Git常用操作命令记录/">
        <h2>
            Git常用操作命令记录
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Git">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Git
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2017/8/30
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h3 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h3><p>选择一个路径初始化代码版本库，目录下会多一个<code>.git</code>目录，这里面保存的是当前Git存储库保存的信息，用户要严格注意不要手动修改它。</p>
<h3 id="git-add-xxx-xxx"><a href="#git-add-xxx-xxx" class="headerlink" title="git add xxx.xxx"></a>git add xxx.xxx</h3><p>把xxx.xxx这个文件添加到git仓库，文件名对上就好，不需要索引相对路径。</p>
<h3 id="git-add"><a href="#git-add" class="headerlink" title="git add ."></a>git add .</h3><p>添加当前git仓库中所有的文件。</p>
<h3 id="git-commit-m-“提交信息”"><a href="#git-commit-m-“提交信息”" class="headerlink" title="git commit -m “提交信息”"></a>git commit -m “提交信息”</h3><p>提交所有有改动的文件到本地git仓库，包括新增和删除的文件。<br><code>git commit</code>命令，<code>-m</code>后面输入的是本次提交的说明，可以输入任意内容，当然最好是有意义的，这样你就能从历史记录里方便地找到改动记录。</p>
<p>嫌麻烦不想输入<code>-m &quot;xxx&quot;</code>行不行？确实有办法可以这么干，但是强烈不建议你这么干，因为输入说明对自己对别人阅读都很重要。</p>
<h3 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h3><p><code>git status</code>命令可以让我们时刻掌握仓库当前的状态，下面的命令告诉我们，readme.txt被修改过了，但还没有准备提交的修改。</p>
<pre><code>$ git status
# On branch master
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#    modified:   readme.txt
#
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>从这些信息里能清楚地看出哪个文件有过改动，具体的改动信息呢就要通过下面这个指令来查看了。</p>
<h3 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h3><p>虽然Git告诉我们readme.txt被修改了，但如果能看看具体修改了什么内容，自然是很好的。比如你休假两周从国外回来，第一天上班时，已经记不清上次怎么修改的readme.txt，所以，需要用<code>git diff</code>这个命令看看：</p>
<pre><code class="git">$ git diff readme.txt
diff --git a/readme.txt b/readme.txt
index 46d49bf..9247db6 100644
--- a/readme.txt
+++ b/readme.txt
@@ -1,2 +1,2 @@
-Git is a version control system.
+Git is a distributed version control system.
 Git is free software.
</code></pre>
<p>通过这个命令可以清晰的看到那些文件有了更改，包括新增删除或者修改等情况。<br>这里的<code>HEAD</code>指的是当前分支的上一次提交，而这句话的全部内容就是比较当前分支的状态和存储库中文件的区别。</p>
<pre><code>git diff HEAD -- readme.txt
</code></pre>
<p>这句话的意思就是只单独比较这一个文件的差异。<strong>HEAD^代表上一次提交，^符号的数量表示前几次提交。</strong> 下面会有详细介绍。</p>
<h3 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout ***"></a>git checkout ***</h3><p>当你对某个文件做了修改之后，有时难免会发现有些错误不该提交，需要撤销这些更改，就需要使用到这个命令了，还是先执行git status命令：</p>
<pre><code>Your branch is up-to-date with &#39;origin/master&#39;.
 
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
 
        modified:   &quot;readme.md&quot;
 
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>从上面的信息我们可以看出我对readme.md这个文件做了修改，也提到了<code>(use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</code>，这句话的意思就是可以通过<code>git checkout -- &lt;file&gt;</code>命令来撤销某个文件的而更改:</p>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git checkout -- Git/ignore相关.md
</code></pre>
<p>执行了这条指令之后，就会发现这个文件已经撤销到了更改之前的状态。需要注意的是，分两种情况：</p>
<ul>
<li><p>一种是<code>readme.txt</code>自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</p>
</li>
<li><p>一种是<code>readme.txt</code>已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</p>
</li>
</ul>
<p>总之，就是让这个文件回到最近一次git commit或git add时的状态。<br>还有一点就是如果不带 <code>--</code> 符号的话就是切换分支的指令了，需要注意一下。</p>
<h3 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h3><p>首先我们要先明确一下<code>Head</code>的概念：<br><strong>Git必须知道当前版本是哪个版本，在Git中，用HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。</strong></p>
<pre><code>$ git reset --hard HEAD^
</code></pre>
<p>所以这句话的意思就是回退到上个版本了。回退和撤销有几种情况一起整理一下：</p>
<ul>
<li><p>场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令<code>git checkout -- file。</code></p>
</li>
<li><p>场景2：当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令<code>git reset HEAD file</code>，就回到了场景1，第二步按场景1操作。</p>
</li>
<li><p>场景3：已经提交了不合适的修改到版本库时，想要撤销本次提交，参考版本回退一节，不过前提是没有推送到远程库。</p>
</li>
</ul>
<h3 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm ."></a>git rm <em><strong>.</strong></em></h3><p>Git中的文件删除包括两种情况，一种是本地删除文件，然后提交修改到远程仓库，包括用户在资源管理器中进行删除；另一种是直接调用<code>git rm</code>命令进行删除。</p>
<ul>
<li>第一种情况：</li>
</ul>
<ol>
<li>在工作空间中新建一个<code>Others</code>文件夹，在其中新建一个test.txt文件，然后执行<code>git add Others/text.txt</code>添加到缓冲区，再<code>commit</code> <code>push</code>到远成仓库。</li>
<li>本地删除该文件，比如在文件资源管理器中右键删除等，我这里是命令行删除的。  </li>
<li>可以看出Git给出了提示，我可以通过<code>git add .</code>命令把文件删除操作提交到暂存区，之后推送到远程仓库。或者通过<code>git checkout Others/test.txt</code>命令来从暂存区还原这次删除。</li>
<li>通过提示我们可以看出，本地删除的话只是把工作区间中的文件给删除了，暂存区和本地仓库，远程仓库中的文件都没有改变。</li>
</ol>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; rm Others/test.txt
PS C:\workspace\AtomSpace\MarkDowns&gt; git status
On branch master
Your branch is up-to-date with &#39;origin/master&#39;.

Changes not staged for commit:
  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

        deleted:    Others/test.txt

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<ul>
<li>第二种情况<br>通过调用<code>git rm Others/test.txt</code>命令来删除的话会删除本地文件，同时也会删除暂存区中的对应文件。我们直接看调用的情况，删除之后再调用一次<code>git status</code>命令来查看一下状态：</li>
</ul>
<pre><code>PS C:\workspace\AtomSpace\MarkDowns&gt; git rm Others/test.txt
rm &#39;Others/test.txt&#39;
PS C:\workspace\AtomSpace\MarkDowns&gt; git status
On branch master
Your branch is ahead of &#39;origin/master&#39; by 1 commit.
  (use &quot;git push&quot; to publish your local commits)
  
Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)

        deleted:    Others/test.txt
</code></pre>
<p>可以看出提示我调用<code>git commit</code>来提交到远程仓库，再就是通过版本回退来恢复这次删除。这就证实了确实工作空间中的文件已经被删除了，同时暂存区中的文件也被删除了。  </p>
<p><strong>总结一下：第一种方式只会删除本地文件，暂存区，本地库，远程库的更新都需要手动操作；而第二种方式则会删除本地和暂存区中的文件，而本地库和远程库的更新需要再行操作</strong></p>
<h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><p>当你想从远程仓库克隆项目到本地的话，就可以通过调用<code>git clone</code>命令来实现，具体调用规则如下：</p>
<pre><code>git clone https://github.com/ericdxf/test.git
</code></pre>
<p>参考资料：<br>廖雪峰大神的Git教程：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">传送门</a></p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Git基础" style=color:#ff7d73>
                Git基础
            </a>
        </span>
        
    </div>

    <a href="/2017/08/30/Git/Git常用操作命令记录/ " class="go-post">
        阅读全文
    </a>
</div>


             
<div class="page-current">

    <div class="prev">
        
        <a href="/page/2/">
            <span class="page-num">
                <a-icon type="caret-left" theme="filled" />
            </span>
        </a>
        
    </div>

    <div class="page-index">

        
        <span>

            

            

            
            <a href="/">
                <span class="page-num">1</span>
            </a>
            

            

            
            <a href="/page/2/">
                <span class="page-num">
                    2
                </span>
            </a>
        </span>
        

        <span class="current">
            3
        </span>

        

    </div>

    <div class="next">
        
    </div>

</div>

        </div>
    </div>
    
    <div id="home-card">
        <a-affix :offset-top="card_top">
    <a-card class="card-style" style="width: 300px">
        <div class="avatar">
            <img src="images/head_image.jpg " alt="头像">
        </div>
        <div class="name">
            Eric Du
        </div>
        <div class="descriptions">
            
            <div class="description">
                人生天地间，忽如远行客
            </div>
            
        </div>
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/ericdxf">

                    
                    <a-icon type="github"
                        theme="filled" />
                    
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://twitter.com/korilin_dev">

                    
                    <a-icon type="twitter"
                        theme="" />
                    
                </a>
            </span>
            
        </div>
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://en.korilin.com">
                    英文技术博客
                </a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://jp.korilin.com">
                    日语记录博客
                </a>
            </div>
            
        </div>
    </a-card>
</a-affix>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2022 Eric的博客
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Eric Du
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>